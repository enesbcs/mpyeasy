function getDatas(){var e,t="";for(e=0;e<elements.length;e++)""!=elements[e]&&"_"!=elements[e]&&(t=t+elements[e].toString()+",");commandurl=ownurl+"/csv?header=0&tasks="+t,console.log(commandurl),fetch(commandurl,{mode:"cors",credentials:"same-origin",cache:"no-cache",method:"GET",redirect:"follow"}).then(e=>e.text()).then(e=>setDatas(e))}function setDatas(e){values=e.split(";"),refreshDatas()}function refreshDatas(){var e;for(e=0;e<elements.length;e++)""!=elements[e]&&"_"!=elements[e]&&setevalue("value_"+elements[e].toString())}function setGaugeValue(e,t,a,l){valueold=t,t<a&&(t=a),t>l&&(t=l),0==a&&100==l||(t=100/(l-a)*(t-a)),t<0&&(t=0),t>100&&(t=100),console.log(a,l,t,valueold,t/200),e.querySelector(".gauge__fill").style.transform=`rotate(${t/200}turn)`,e.querySelector(".gauge__cover").textContent=`${Math.round(100*valueold)/100}`}function setevalue(e){var t,a,l;a=0,l=0,t=0;do{if("_"!=elements[t]){if("value_"+elements[t]==e){a=l;break}l+=1}t+=1}while(t<elements.length);if(console.log(values,a,t,l),aElement=document.getElementById(e),aElement)switch(mtype=aElement.tagName.toLowerCase(),console.log(values[a],e),"meter"!=mtype&&"select"!=mtype&&(mtype=aElement.getAttribute("class")),mtype){case"textval":aElement.innerText=values[a];break;case"state":case"cmn-toggle cmn-toggle-round":aElement.checked=Boolean(parseFloat(values[a]));break;case"meter":case"slider":case"select":aElement.value=parseFloat(values[a]);break;case"gauge":minv=parseFloat(props[t][0]),maxv=parseFloat(props[t][1]),setGaugeValue(aElement,parseFloat(values[a]),minv,maxv)}}function cboxchanged(e){var t=e.id.split("_"),a=t[1],l=t[2];e.checked?changestate(a,l,"1"):changestate(a,l,"0")}function sselchanged(e){var t=e.id.split("_");changestate(t[1],t[2],e.value)}function changestate(e,t,a){tn=Number(e)+1,vn=Number(t)+1,commandurl=ownurl+"/control?cmd=taskvalueset,"+tn.toString()+","+vn.toString()+","+a.toString();var l=new XMLHttpRequest;l.open("GET",commandurl,!0),l.send(null)}
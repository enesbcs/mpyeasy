import os

def run():
 favicon = b'\x00\x00\x01\x00\x01\x00\x10\x10\x00\x00\x01\x00 \x00h\x04\x00\x00\x16\x00\x00\x00(\x00\x00\x00\x10\x00\x00\x00 \x00\x00\x00\x01\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00+++\xff}}y\xff\xc8\xc9\xc4\xff\xc8\xc8\xc7\xff\xc8\xc8\xc6\xff\xc9\xca\xc7\xff\xc9\xca\xc7\xff\xc7\xc7\xc6\xff\xc8\xc8\xc7\xff\xc7\xc7\xc6\xff\xc7\xc7\xc6\xff\xc7\xc7\xc6\xff\xca\xc8\xc7\xff\xc4\xc3\xc2\xffvus\xff\x19\x19\x19\xffdca\xff\xec\xe6\xfa\xff\xc3\xb2\xeb\xff\xff\xff\xff\xff\xff\xff\xff\xff\xdb\xd1\xf3\xff\xd4\xc7\xf0\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xff\xfe\xff\xd6\xf0\xe3\xff\xe6\xf6\xee\xff\xff\xff\xff\xffssq\xff\xbe\xbd\xb9\xff\xbf\xab\xec\xff/\x00\xc3\xff\xad\x95\xe3\xff\xff\xff\xff\xff\x9f\x83\xe1\xff4\x00\xc4\xff\xbf\xad\xea\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xa7\xdf\xc5\xffD\xbd\x87\xffI\xbf\x8a\xff\xe6\xf6\xee\xff\xc2\xc1\xc1\xff\xc9\xc8\xc6\xff\xff\xff\xff\xff\xb8\xa3\xe6\xff3\x00\xc4\xff\xac\x94\xe1\xff\xff\xff\xff\xff\x91q\xdc\xff3\x00\xc4\xff\xcc\xbd\xed\xff\xff\xff\xff\xff\xff\xff\xff\xff\x92\xd8\xb9\xffK\xc0\x8c\xffD\xbd\x87\xff\xd7\xf0\xe4\xff\xc8\xc7\xc6\xff\xc9\xc8\xc5\xff\xff\xff\xff\xff\xff\xff\xff\xff\xab\x93\xe3\xff2\x00\xc4\xff\xac\x94\xe3\xff\xff\xff\xff\xff\x92r\xde\xff4\x00\xc4\xff\xbf\xac\xea\xff\xff\xff\xff\xff\xe8\xf6\xef\xff\x92\xd9\xb9\xff\xa7\xdf\xc5\xff\xfe\xff\xfe\xff\xc6\xc6\xc5\xff\xca\xca\xc5\xff\xda\xcf\xf3\xff\x9e\x83\xe1\xff\xff\xff\xff\xff\xb9\xa6\xe6\xff2\x00\xc4\xff\xab\x93\xe1\xff\xff\xff\xff\xff\x92q\xdc\xff3\x00\xc4\xff\xcd\xbe\xed\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc7\xc7\xc5\xff\xca\xca\xc5\xff\xc5\xb3\xee\xff5\x00\xc4\xff\x95w\xdf\xff\xff\xff\xff\xff\xaa\x92\xe3\xff2\x00\xc4\xff\xac\x94\xe3\xff\xff\xff\xff\xff\x92r\xde\xff3\x00\xc4\xff\xbf\xac\xea\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc6\xc6\xc5\xff\xc8\xc7\xc4\xff\xff\xff\xff\xff\xce\xbf\xee\xff;\x02\xc6\xff\x84b\xd9\xff\xff\xff\xff\xff\xba\xa7\xe7\xff2\x00\xc4\xff\xab\x93\xe1\xff\xff\xff\xff\xff\x92q\xdc\xff4\x00\xc4\xff\xcc\xbd\xed\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc6\xc6\xc5\xff\xc7\xc6\xc4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xb9\xa4\xe8\xff9\x00\xc5\xff\x96x\xdf\xff\xff\xff\xff\xff\xaa\x91\xe3\xff2\x00\xc4\xff\xac\x94\xe3\xff\xff\xff\xff\xff\x92r\xde\xff3\x00\xc4\xff\xbf\xad\xea\xff\xff\xff\xff\xff\xc6\xc6\xc5\xff\xc8\xc8\xc4\xff\xc2\xaf\xec\xffxP\xd5\xff\xff\xff\xff\xff\xcf\xc1\xee\xff:\x01\xc5\xff\x84a\xd9\xff\xff\xff\xff\xff\xba\xa7\xe7\xff2\x00\xc4\xff\xab\x93\xe1\xff\xff\xff\xff\xff\x91q\xdc\xff4\x00\xc4\xff\xd4\xc7\xf0\xff\xc9\xca\xc6\xff\xc8\xc7\xc3\xff\xcd\xbe\xf0\xff?\x08\xc7\xff\x87d\xda\xff\xff\xff\xff\xff\xb9\xa4\xe8\xff:\x01\xc5\xff\x96x\xdf\xff\xff\xff\xff\xff\xaa\x92\xe3\xff2\x00\xc4\xff\xac\x94\xe3\xff\xff\xff\xff\xff\x9e\x82\xe1\xff\xdb\xd1\xf3\xff\xc9\xc9\xc6\xff\xc6\xc5\xc2\xff\xff\xff\xff\xff\xda\xd0\xf3\xffA\n\xc8\xffqG\xd4\xff\xff\xff\xff\xff\xcf\xc1\xee\xff9\x00\xc5\xff\x84b\xd9\xff\xff\xff\xff\xff\xb9\xa6\xe6\xff2\x00\xc4\xff\xac\x94\xe1\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc6\xc6\xc5\xff\xc6\xc5\xc3\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc6\xb6\xed\xffA\n\xc8\xff\x87d\xda\xff\xff\xff\xff\xff\xb9\xa4\xe8\xff;\x02\xc6\xff\x95w\xdf\xff\xff\xff\xff\xff\xab\x93\xe3\xff2\x00\xc4\xff\xac\x95\xe3\xff\xff\xff\xff\xff\xc6\xc6\xc5\xff\xb9\xb9\xb6\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xda\xd0\xf3\xff?\x08\xc7\xffyQ\xd5\xff\xff\xff\xff\xff\xce\xbf\xee\xff5\x00\xc4\xff\x9e\x83\xe1\xff\xff\xff\xff\xff\xb5\x9f\xe7\xff/\x00\xc3\xff\xc4\xb3\xeb\xff\xc6\xc7\xc2\xffa`^\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xcd\xbe\xf1\xff\xc2\xaf\xec\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc5\xb3\xee\xff\xdb\xcf\xf3\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc0\xac\xec\xff\xec\xe6\xfa\xffyyu\xff***\xffbb`\xff\xbb\xba\xb8\xff\xc7\xc6\xc4\xff\xc6\xc6\xc3\xff\xc8\xc8\xc3\xff\xc8\xc8\xc4\xff\xc6\xc5\xc2\xff\xc6\xc6\xc2\xff\xc8\xc8\xc3\xff\xc8\xc7\xc4\xff\xc6\xc5\xc3\xff\xc6\xc6\xc3\xff\xba\xba\xb6\xff]\\Z\xff$$$\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
 defaultu = b"*{font-family:sans-serif;font-size:12pt;margin:0;padding:0;box-sizing:border-box}h1{font-size:16pt;color:#25333c;margin:8px 0;font-weight:bold}h2{font-size:12pt;margin:0 -4px;padding:6px;background-color:#444;color:#fff;font-weight:bold}h3{font-size:12pt;margin:16px -4px 0 -4px;padding:4px;background-color:#eee;color:#444;font-weight:bold}h6{font-size:10pt;color:#25333c}.button{margin:4px;padding:4px 16px;background-color:#25333c;color:#fff;text-decoration:none;border-radius:4px;border:none}.button.link.wide{display:inline-block;width:99%;text-align:center}.button.link.red{background-color:#f00;color:#ff0}.button.help{padding:2px 4px;border-style:solid;border-width:1px;border-color:#808080;border-radius:50%}.button:hover{background:#369}input,select,textarea{margin:4px;padding:4px 8px;border-radius:4px;background-color:#eee;border-style:solid;border-width:1px;border-color:#808080}input:hover{background-color:#ccc}input.wide{max-width:500px;width:80%}input.widenumber{max-width:500px;width:100px}#selectwidth{max-width:500px;width:80%;padding:4px 8px}select:hover{background-color:#ccc}.container{display:block;padding-left:35px;margin-left:4px;margin-top:0;position:relative;cursor:pointer;font-size:12pt;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container input{position:absolute;opacity:0;cursor:pointer}.checkmark{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-style:solid;border-width:1px;border-color:#808080;border-radius:4px}.container:hover input~.checkmark{background-color:#ccc}.container input:checked~.checkmark{background-color:#25333c}.checkmark:after{content:'';position:absolute;display:none}.container input:checked~.checkmark:after{display:block}.container .checkmark:after{left:7px;top:3px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.container2{display:block;padding-left:35px;margin-left:9px;margin-bottom:20px;position:relative;cursor:pointer;font-size:12pt;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container2 input{position:absolute;opacity:0;cursor:pointer}.dotmark{position:absolute;top:0;left:0;height:26px;width:26px;background-color:#eee;border-style:solid;border-width:1px;border-color:#808080;border-radius:50%}.container2:hover input~.dotmark{background-color:#ccc}.container2 input:checked~.dotmark{background-color:#25333c}.dotmark:after{content:'';position:absolute;display:none}.container2 input:checked~.dotmark:after{display:block}.container2 .dotmark:after{top:8px;left:8px;width:8px;height:8px;border-radius:50%;background:#fff}#toastmessage{visibility:hidden;min-width:250px;margin-left:-125px;background-color:#25333c;color:#fff;text-align:center;border-radius:4px;padding:16px;position:fixed;z-index:1;left:282px;bottom:30%;font-size:17px;border-style:solid;border-width:1px;border-color:#808080}#toastmessage.show{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes fadein{from{bottom:20%;opacity:0}to{bottom:30%;opacity:.9}}@keyframes fadein{from{bottom:20%;opacity:0}to{bottom:30%;opacity:.9}}@-webkit-keyframes fadeout{from{bottom:30%;opacity:.9}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30%;opacity:.9}to{bottom:0;opacity:0}}.level_0{color:#f1f1f1}.level_1{color:#fcff95}.level_2{color:#9dcefe}.level_3{color:#a4fc79}.level_4{color:#f2ab39}.level_9{color:#f50}.logviewer{color:#f1f1f1;background-color:#272727;font-family:'Lucida Console',Monaco,monospace;height:400px;max-width:1000px;width:80%;padding:4px 8px;overflow:auto;border-style:solid;border-color:#808080}textarea{max-width:1000px;width:80%;padding:4px 8px}textarea:hover{background-color:#ccc}table.normal th{padding:6px;background-color:#444;color:#fff;border-color:#888;font-weight:bold}table.normal td{padding:4px;height:30px}table.normal tr{padding:4px}table.normal{color:#000;width:100%;min-width:420px;border-collapse:collapse}table.multirow th{padding:6px;background-color:#444;color:#fff;border-color:#888;font-weight:bold}table.multirow td{padding:4px;text-align:center;height:30px}table.multirow tr{padding:4px}table.multirow tr:nth-child(even){background-color:#dee6ff}table.multirow{color:#000;width:100%;min-width:420px;border-collapse:collapse}.note{color:#444;font-style:italic}.headermenu{position:fixed;top:0;left:0;right:0;height:90px;padding:8px 12px;background-color:#f8f8f8;border-bottom:1px solid #ddd;z-index:1}.apheader{padding:8px 12px;background-color:#f8f8f8}.bodymenu{margin-top:96px}.menubar{position:inherit;top:55px}.menu{float:left;padding:4px 16px 8px 16px;color:#444;white-space:nowrap;border:solid transparent;border-width:4px 1px 1px;border-radius:4px 4px 0 0;text-decoration:none}.menu.active{color:#000;background-color:#fff;border-color:#25333c #ddd #fff}.menu:hover{color:#000;background:#def}.menu_button{display:none}.on{color:#008000}.off{color:#f00}.div_l{float:left}.div_r{float:right;margin:2px;padding:1px 10px;border-radius:4px;background-color:#080;color:#fff}.div_br{clear:both}.alert{padding:20px;background-color:#f44336;color:#fff;margin-bottom:15px}.closebtn{margin-left:15px;color:#fff;font-weight:bold;float:right;font-size:22px;line-height:20px;cursor:pointer;transition:.3s}.closebtn:hover{color:#000}section{overflow-x:auto;width:100%}@media screen and (max-width:960px){header:hover .menubar{display:block}.menu_button{display:block;text-align:center}.bodymenu{margin-top:0}.menubar{display:none;top:0;position:relative;float:left;width:100%}.headermenu{position:relative;height:auto;float:left;width:100%;padding:5px;z-index:1}.headermenu h1{padding:8px 12px}.headermenu a{text-align:center;width:100%;padding:7px 10px;height:auto;border:0;border-radius:0}}"
 tmplstd = b"<!DOCTYPE html><html lang='en'>\n<head>\n  <meta charset='utf-8'/>\n  <title>{{name}}</title>\n  <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n  {{js}}\n  {{css}}\n</head>\n<body class='bodymenu'>\n  <span class='message' id='rbtmsg'></span>\n  <header class='headermenu'>\n <h1>mpyEasy: {{name}} {{logo}}</h1><div class='menu_button'>&#9776;</div><BR>\n {{menu}}\n  </header>\n  <section>\n  <span class='message error'>\n  {{error}}\n  </span>\n  {{content}}\n  </section>\n  <footer>\n <br>\n <h6>Made by <a href='http://bitekmindenhol.blog.hu' style='font-size: 15px; text-decoration: none'>NS Tech</a>. - Designed by <a href='http://www.letscontrolit.com' style='font-size: 15px; text-decoration: none'>www.letscontrolit.com</a></h6>\n  </footer>\n</body></html>"
 tmplap  = b"<!DOCTYPE html><html lang='en'>\n<head><meta charset='utf-8'/><meta name='viewport' content='width=device-width, initial-scale=1.0'>\n<title>{{name}}</title>\n{{css}}\n</head>\n<body><header class='apheader'\n<h1>Welcome to mpyEasy AP</h1>\n</header><section>\n<span class='message error'>\n{{error}}\n</span>\n{{content}}\n</section>\n<footer><br>\n<h6>Made by <a href='http://bitekmindenhol.blog.hu' style='font-size: 15px; text-decoration: none'>NS Tech</a>. - Designed by <a href='http://www.letscontrolit.com' style='font-size: 15px; text-decoration: none'>www.letscontrolit.com</a></h6>\n</footer></body>"
 dashc   = b'.gauge{width:60%;font-size:32px;color:#004033;margin:auto}.gauge__body{width:100%;height:0;padding-bottom:50%;background:#b4c0be;position:relative;border-top-left-radius:100% 200%;border-top-right-radius:100% 200%;overflow:hidden}.gauge__fill{position:absolute;top:100%;width:inherit;height:100%;background:#009578;transform-origin:center top;transform:rotate(.25turn);transition:transform .2s ease-out}.gauge__cover{width:75%;height:150%;border-radius:50%;position:absolute;top:25%;left:50%;transform:translateX(-50%);display:flex;align-items:center;justify-content:center;padding-bottom:25%;box-sizing:border-box}.switch{width:100% text-align:center;align-items:center;justify-content:center}input.cmn-toggle-round+label{padding:2px;width:120px;height:60px;background-color:#ddd;border-radius:60px}input.cmn-toggle-round+label:before,input.cmn-toggle-round+label:after{display:block;position:absolute;top:1px;left:1px;bottom:1px;content:""}.cmn-toggle{position:absolute;margin-left:-9999px;visibility:hidden}.cmn-toggle+label{display:block;position:relative;cursor:pointer;outline:none;user-select:none;margin:auto}input.cmn-toggle-round+label:before{right:1px;background-color:#f1f1f1;border-radius:60px;transition:background .4s}input.cmn-toggle-round+label:after{width:58px;background-color:#fff;border-radius:100%;box-shadow:0 2px 5px rgba(0,0,0,.3);transition:margin .4s}input.cmn-toggle-round:checked+label:before{background-color:#037137}input.cmn-toggle-round:checked+label:after{margin-left:60px}.state{display:none}.toggleWrapper{z-index:3;display:flex;align-items:center;justify-content:center;cursor:pointer;width:80px;height:80px;border-radius:50%;background-color:#fe4551;margin:auto}.toggleWrapper:active{width:75px;height:75px}.toggleWrapper:active .toggle{height:17px;width:17px}.toggleWrapper .toggle{height:20px;width:20px;background-color:transparent;border:10px solid #fff;border-radius:50%;cursor:pointer}.state:checked~.background{background-color:#f9faf7}.state:checked+.toggleWrapper{background-color:#037137}.state:checked+.toggleWrapper .toggle{width:0;background-color:#fff;border-color:transparent;border-radius:30px}.meter,.meter90{width:98%;min-height:50px;border:1px solid #000;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;padding:1px}.meter90{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.box{position:relative;width:100%}.box select{background-color:#009578;color:#fff;padding:12px;width:98%;border:none;font-size:1em;-webkit-appearance:button;appearance:button;outline:none}.box:hover::before{color:rgba(255,255,255,.6);background-color:rgba(255,255,255,.2)}.box select option{padding:30px}.tab{border-spacing:10px;border-collapse:separate}.tab td{opacity:.9;border:0;height:100px;text-align:center;vertical-align:middle;padding:2px}.gauge__cover,.tab td{background:#cde0cc}.tab6 td{width:16%}.tab5 td{width:20%}.tab4 td{width:25%}.tab3 td{width:33%}.tab2 td{width:50%}.centered{text-align:center;align-items:center;justify-content:center}.slidecontainer{width:98%}.slider{-webkit-appearance:none;width:98%;height:25px;background:#f3f3f3;outline:none;opacity:.9;-webkit-transition:.2s;transition:opacity .2s;border-radius:5px}.slider:hover{opacity:1}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:35px;height:35px;background:#037137;cursor:pointer;border-radius:50%}.slider::-moz-range-thumb{width:35px;height:35px;background:#037137;cursor:pointer;border-radius:50%}.textval{margin:2px;padding:1px 10px;border-radius:4px;background-color:#080;color:#fff}#scale{display:table;width:100%;padding:0 0 0 0;margin:1px 0 1px 0;border:0 0 0 0;text-align:center}#scale li{width:20%;display:table-cell;white-space:nowrap}'
 dashj   = b'function getDatas(){var e,t="";for(e=0;e<elements.length;e++)""!=elements[e]&&"_"!=elements[e]&&(t=t+elements[e].toString()+",");commandurl=ownurl+"/csv?header=0&tasks="+t,console.log(commandurl),fetch(commandurl,{mode:"cors",credentials:"same-origin",cache:"no-cache",method:"GET",redirect:"follow"}).then(e=>e.text()).then(e=>setDatas(e))}function setDatas(e){values=e.split(";"),refreshDatas()}function refreshDatas(){var e;for(e=0;e<elements.length;e++)""!=elements[e]&&"_"!=elements[e]&&setevalue("value_"+elements[e].toString())}function setGaugeValue(e,t,a,l){valueold=t,t<a&&(t=a),t>l&&(t=l),0==a&&100==l||(t=100/(l-a)*(t-a)),t<0&&(t=0),t>100&&(t=100),console.log(a,l,t,valueold,t/200),e.querySelector(".gauge__fill").style.transform=`rotate(${t/200}turn)`,e.querySelector(".gauge__cover").textContent=`${Math.round(100*valueold)/100}`}function setevalue(e){var t,a,l;a=0,l=0,t=0;do{if("_"!=elements[t]){if("value_"+elements[t]==e){a=l;break}l+=1}t+=1}while(t<elements.length);if(console.log(values,a,t,l),aElement=document.getElementById(e),aElement)switch(mtype=aElement.tagName.toLowerCase(),console.log(values[a],e),"meter"!=mtype&&"select"!=mtype&&(mtype=aElement.getAttribute("class")),mtype){case"textval":aElement.innerText=values[a];break;case"state":case"cmn-toggle cmn-toggle-round":aElement.checked=Boolean(parseFloat(values[a]));break;case"meter":case"slider":case"select":aElement.value=parseFloat(values[a]);break;case"gauge":minv=parseFloat(props[t][0]),maxv=parseFloat(props[t][1]),setGaugeValue(aElement,parseFloat(values[a]),minv,maxv)}}function cboxchanged(e){var t=e.id.split("_"),a=t[1],l=t[2];e.checked?changestate(a,l,"1"):changestate(a,l,"0")}function sselchanged(e){var t=e.id.split("_");changestate(t[1],t[2],e.value)}function changestate(e,t,a){tn=Number(e)+1,vn=Number(t)+1,commandurl=ownurl+"/control?cmd=taskvalueset,"+tn.toString()+","+vn.toString()+","+a.toString();var l=new XMLHttpRequest;l.open("GET",commandurl,!0),l.send(null)}'

 if 'data' not in os.listdir():
  try:
   os.mkdir('data')
   os.mkdir('www')
   os.mkdir('templ')
  except:
   pass
  try:
   file = open("www/favicon.ico","wb")
   file.write(favicon)
   file.close()
  except:
   pass
  try:
   file = open("www/defaultu.css","wb")
   file.write(defaultu)
   file.close()
  except:
   pass
  try:
   file = open("templ/TmplStd.txt","wb")
   file.write(tmplstd)
   file.close()
  except:
   pass
  try:
   file = open("templ/TmplAP.txt","wb")
   file.write(tmplap)
   file.close()
  except:
   pass
 try:
   file = open("www/dash.css","wb")
   file.write(dashc)
   file.close()
 except:
   pass
 try:
   file = open("www/dash.js","wb")
   file.write(dashj)
   file.close()
 except:
   pass
